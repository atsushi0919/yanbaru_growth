<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>BMI計算</title>
  </head>
  <body>
    <h1>BMIを計算する</h1>
    height[cm]: <input id="height" /><br />
    weight[kg]: <input id="weight" /><br />
    <button onclick="calc()">OK</button>
    <p id="bmi"></p>
    <p id="result"></p>

    <script>
      function calc() {
        // サンプル
        // 158 41  -> 16.4, thin
        // 166 75  -> 27.2, fat
        // 170 70  -> 24.2, normal
        // 176 143 -> 46.2, fat
        // 178 60  -> 18.9, normal

        // --------------------
        // データ受け取り
        // --------------------
        let weight = document.getElementById('weight').value
        let height = document.getElementById('height').value

        // --------------------
        // BMI 計算、肥満度判定
        // --------------------

        // 身長を cm から m に変換する
        height *= 0.01
        // BMI BMI の小数点第1位までを四捨五入で求める
        let bmi = weight / height ** 2
        let tmp = parseInt(bmi * 10 + 0.5)
        bmi = tmp / 10

        // BMI で肥満度を判定する
        let result
        if (bmi < 18.5) {
          result = 'thin'
        } else if (bmi < 25) {
          result = 'normal'
        } else {
          result = 'fat'
        }

        // --------------------
        // 結果の出力
        // --------------------
        document.getElementById('bmi').textContent = `BMI: ${bmi}`
        document.getElementById('result').textContent = `肥満度: ${result}`
      }
    </script>
  </body>
</html>
